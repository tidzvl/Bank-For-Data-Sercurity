# ========================================
# BM Bank - Backend API Environment Variables
# ========================================

# ----------------------------------------
# Server Configuration
# ----------------------------------------
PORT=5000
NODE_ENV=development

# ----------------------------------------
# Oracle Database Configuration
# ----------------------------------------
# System user for Oracle XE management
ORACLE_USER=system
ORACLE_PASSWORD=Oracle123
ORACLE_CONNECT_STRING=localhost:1521/XE

# Banking PDB (Pluggable Database)
# Admin user has full access to banking schema
BANKING_ADMIN_USER=admin
BANKING_ADMIN_PASSWORD=123456
BANKING_CONNECT_STRING=localhost:1521/banking

# ----------------------------------------
# JWT Authentication
# ----------------------------------------
# IMPORTANT: Change JWT_SECRET in production!
# Generate strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secret-key-change-this-in-production-use-crypto-random-bytes
JWT_EXPIRES_IN=24h

# JWT Token Settings
JWT_ALGORITHM=HS256
JWT_ISSUER=bm-bank-api

# ----------------------------------------
# CORS Configuration
# ----------------------------------------
# Frontend URL for CORS
# Development: http://localhost:5003
# Production: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:5003

# Allow credentials (cookies, authorization headers)
CORS_CREDENTIALS=true

# ----------------------------------------
# API Configuration
# ----------------------------------------
# Request body size limit
BODY_LIMIT=10mb

# API Rate Limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------------
# Logging Configuration
# ----------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable request logging
LOG_REQUESTS=true

# ----------------------------------------
# Security Configuration
# ----------------------------------------
# Bcrypt hash rounds (8-12 recommended)
BCRYPT_ROUNDS=10

# Password minimum length
PASSWORD_MIN_LENGTH=6

# Session timeout (milliseconds)
SESSION_TIMEOUT=86400000

# ----------------------------------------
# Database Pool Configuration
# ----------------------------------------
# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_INCREMENT=1
DB_POOL_TIMEOUT=60

# ----------------------------------------
# Feature Flags
# ----------------------------------------
# Enable audit logging
ENABLE_AUDIT=true

# Enable VPD policies
ENABLE_VPD=true

# Enable SQL query logging (development only)
ENABLE_QUERY_LOG=false

# ----------------------------------------
# Email Configuration (Optional)
# ----------------------------------------
# SMTP settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email from address
EMAIL_FROM=noreply@bmbank.com

# ----------------------------------------
# Production Settings
# ----------------------------------------
# Enable in production for better performance
# COMPRESSION=true
# HELMET=true
# HTTPS_ONLY=true

# ----------------------------------------
# Docker Configuration
# ----------------------------------------
# When running in Docker, use service names
# ORACLE_CONNECT_STRING=oracle-db:1521/XE
# BANKING_CONNECT_STRING=oracle-db:1521/banking
